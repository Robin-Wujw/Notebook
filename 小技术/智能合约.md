早在20世纪90年代Nick Szabo就首次描述了智能合约的概念。当时，他对智能合约[定义](https://ojphi.org/ojs/index.php/fm/article/view/548/469)为：能够将协议与用户界面相结合的一种工具，从而对计算机网络进行规范化和安全加固。Szabo还探讨了涉及到合同协议等各个领域中，智能合约的潜在用途，例如信用体系、支付流程和版权管理。

在加密货币领域，我们将[智能合约](https://academy.binance.com/en/glossary/smart-contract)定义为在区块链上运行的应用或程序。通常情况下，它们为一组具有特定规则的数字化协议，且该协议能够被强制执行。这些规则由计算机源代码预先定义，所有网络[节点](https://academy.binance.com/zh/articles/what-are-nodes)会复制和执行这些计算机源码。

实质上，区块链智能合约支持创建无需信任的协议。这意味着执行合约的双方可以通过区块链做出承诺，而无需相互了解或相互信任。合约内容经双方确认后，如果没达到触发条件，合约将不会被执行。除此之外，使用智能合约可以消除对中介的需求，从而显著降低运营成本。

多年来，虽然比特币协议也一直支持智能合约，但智能合约却经[以太坊](https://academy.binance.com/zh/articles/what-is-ethereum)联合创始人Vitalik Buterin之手而大受欢迎。值得注意的是，每个区块链网络可能会提供完全不同的智能合约。 

本文将重点介绍在以太坊虚拟机（EV）上运行的智能合约，这也是以太坊区块链的重要组成部分。



## 智能合约是如何运行的？

简单来说，智能合约就是一个确定性的计划。当满足某些条件时，它则执行特定任务。因此，智能合约系统通常遵循“if ... then ...”的条件语句。但是，即便智能合约成为一种主流的技术，但智能合约既不是法定的也不是智能化的，它们只是在分布式系统（区块链）上运行的一段代码。

在以太坊网络上，当用户（地址）在区块链网络中进行交易时，智能合约负责执行和管理这类操作。而非智能合约管理的地址都称为外部帐户（EOA）。因此，智能合约由计算机源代码控制，EOA由用户自己控制。

基本上，以太坊智能合约通常由合约代码和两个公钥组成。一个公钥是合约创建者所提供的公钥，另一个公钥由合约自身创建，用于充当每个智能合约独有的数字标识。

任何智能合约的部署都是通过区块链交易进行的，只有在EOA（或其他智能合约）调用时才能被激活。但是，智能合约首次触发是由EOA（用户）引起的。



## 主要特征

以太坊智能合约通常具有以下特征：

分布式。智能合约在以太坊网络的所有节点中被复制和分发，这种方式与基于中心化服务器的其他解决方案区别显著。

一致性。在满足要求的情况下，智能合约仅执行其预先设计的操作。而且，无论任何节点执行，结果都是一致的。

自动化。智能合约可以自动执行各种任务，就像自动执行程序一样。但是，在大多数情况下，如果未触发智能合约，它将保持“休眠”状态，并且不会执行任何操作。

不可篡改。智能合约一经部署，则无法更改。只有预先实现了特定功能，才能执行“删除”。因此，我们可以说智能合约可以提供防篡改程序。

定制化。在部署之前，智能合约可以通过多种不同方式进行编码。因此，它可用于创建许多不同的分布式应用程序（[DApps](https://academy.binance.com/en/glossary/decentralized-application)）。这与以太坊具有[图灵完备](https://academy.binance.com/en/glossary/turing-complete)的区块链特征相关。

无需信任。两方或多方可以通过智能合约进行互动，而无需相互了解或取得信任。此外，区块链技术可确保数据准确无误。

透明性。由于智能合约基于公有区块链，因此其源代码不仅不可篡改，而且对任何人都是透明的。



### 智能合约可以被更改或删除吗？

以太坊智能合约一经部署，则无法再继续添加新功能。但是，如果其合约创建者在代码中预留了名为SELFDESTRUCT的函数，那么将来可以“删除”智能合约，也可以用新的合约替换它。如果未在合约代码中预留该函数，则它们将无法被删除。

值得注意的是，所谓的可升级智能合约支持开发人员在不可篡改方面拥有更大的灵活性。有许多方法可以创建可升级的智能合约，每个合约都可具有不同程度的复杂性。

举一个简单的例子，我们假设将智能合约分为多个较小的合约。其中一些被设计为不可变更的，而另一些则启用了“删除”功能。这意味着可以删除和替换部分代码（智能合约），而其他功能保持不变。